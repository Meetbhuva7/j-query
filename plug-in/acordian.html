<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="acordian.css">
</head>

<body>
    <div class="container">

        <h1>Animated Accordion</h1>

        <button class="accordion">Accordion Tab 1</button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat.</p>
        </div>

        <button class="accordion">Accordion Tab 2</button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat.</p>
        </div>

        <button class="accordion">Accordion Tab 3</button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat.</p>
        </div>

        <button class="accordion">Accordion Tab 4</button>
        <div class="panel">
            <div class="pr-list">
                <div>
                    <span>Item I</span>
                    <span></span>
                    <span>1200 ₽</span>
                </div>

                <div>
                    <span>Item II</span>
                    <span></span>
                    <span>1000 ₽</span>
                </div>

                <div>
                    <span>Item III</span>
                    <span></span>
                    <span>800 ₽</span>
                </div>
            </div>
        </div>

    </div>

    <script src="../assignment/jq/releases.jquery.com_git_jquery-git.min.js"></script>

    <script>
        if (document.querySelector(".accordion") !== null) {
            const acc = document.getElementsByClassName("accordion");

            openFirstAccTab();

            // Here the accordion can close all tabs
            for (let i = 0; i < acc.length; i++) {
                acc[i].addEventListener("click", function () {
                    if (!this.classList.contains("active")) {
                        closeAccTabs();
                        toggleAcc(this);
                        console.log("Non Active");
                    } else {
                        closeAccTabs();
                        console.log("Active");
                    }
                });
            }

            // If you want one block in accordion to be always open
            // for (let i = 0; i < acc.length; i++) {
            // 	acc[i].addEventListener("click", function () {
            // 		closeAccTabs();
            // 		toggleAcc(this);
            // 	});
            // }

            // Open/close tab
            function toggleAcc(e) {
                e.classList.toggle("active");
                var panel = e.nextElementSibling;
                if (panel.style.maxHeight) {
                    panel.style.maxHeight = null;
                } else {
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }
            }

            // Closing an open accordion tab when clicking on another one (if needed)
            function closeAccTabs() {
                for (let i = 0; i < acc.length; i++) {
                    if (acc[i].classList.contains("active")) {
                        acc[i].classList.remove("active");
                        acc[i].nextElementSibling.removeAttribute("style");
                    }
                }
            }

            // Open first accordion tab by default
            function openFirstAccTab() {
                if (!acc[0].classList.contains("active")) {
                    acc[0].classList.add("active");
                    acc[0].nextElementSibling.style.maxHeight =
                        acc[0].nextElementSibling.scrollHeight + "px";
                }
            }

            // When resizing - auto-height adjustment
            window.addEventListener(
                "resize",
                function () {
                    for (let i = 0; i < acc.length; i++) {
                        if (acc[i].classList.contains("active")) {
                            acc[i].nextElementSibling.style.maxHeight =
                                acc[i].nextElementSibling.scrollHeight + "px";
                        }
                    }
                },
                true
            );
        }

    </script>
</body>

</html>